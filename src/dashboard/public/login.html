<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta
    name="description"
    content="Email-VPS secure login requiring OTP verification followed by credentials for dashboard access."
  />
  <title>Email-VPS Login</title>
  <link rel="icon" href="/dashboard/assets/favicon.svg" type="image/svg+xml" />
  <link rel="shortcut icon" href="/dashboard/assets/favicon.svg" type="image/svg+xml" />
  <link rel="stylesheet" href="/dashboard/assets/dashboard.css" />
</head>
<body>
  <main class="auth-shell">
    <section class="auth-card">
      <h1>Email-VPS Control Plane</h1>
      <p>Sign in requires two steps: email OTP verification, then account credentials.</p>

      <section class="auth-section auth-section-primary" id="otpSection">
        <div class="auth-section-head">
          <h2>Primary Login: Email OTP</h2>
          <span class="badge secure" id="otpModeBadge">OTP</span>
        </div>
        <p class="auth-hint" id="otpHint">Request a one-time code to continue.</p>
        <div class="auth-actions">
          <button id="otpRequestBtn" type="button">Send OTP Code</button>
        </div>
        <form id="otpVerifyForm">
          <label for="otpCode">Enter OTP code</label>
          <input
            id="otpCode"
            name="otpCode"
            inputmode="numeric"
            pattern="[0-9]*"
            maxlength="8"
            placeholder="6-digit code"
            autocomplete="one-time-code"
            required
          />
          <button id="otpVerifyBtn" type="submit">Verify OTP</button>
        </form>
      </section>

      <section class="auth-section auth-section-secondary" id="credentialSection" hidden>
        <div class="auth-section-head">
          <h2>Step 2: Account Credentials</h2>
          <span class="badge warning">2FA</span>
        </div>
        <p class="auth-hint">Enter your account username and password to complete sign-in.</p>
        <form id="loginForm">
          <label for="username">Username</label>
          <input id="username" name="username" autocomplete="username" required />

          <label for="password">Password</label>
          <input id="password" name="password" type="password" autocomplete="current-password" required />

          <button id="credentialLoginBtn" type="submit">Sign In to Dashboard</button>
        </form>
      </section>

      <p class="error" id="errorMessage"></p>
      <p class="auth-meta" id="authMeta"></p>
    </section>
  </main>

  <script defer src="/dashboard/assets/dashboard-app.js"></script>
</body>
</html>
