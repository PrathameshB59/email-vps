# HTTP service (run behind Nginx in production)
HOST=127.0.0.1
PORT=8081

# Mail API security (local-only + bearer token)
MAIL_API_TOKEN=replace_with_strong_mail_api_token
MAIL_ALLOW_NON_LOCAL=false

# Mail envelope and delivery policy
MAIL_FROM=Email VPS <you@example.com>
MAIL_DAILY_LIMIT=500
MAIL_RETRY_MAX=3
MAIL_RETRY_BASE_MS=30000

# Relay (Postfix local relay expected)
MAIL_RELAY_HOST=127.0.0.1
MAIL_RELAY_PORT=25
MAIL_RELAY_SECURE=false

# Persistence and queue workers
DB_PATH=/home/devuser/dev/email-vps/data/email_vps.sqlite
LOG_RETENTION_DAYS=30
QUEUE_POLL_MS=5000
QUEUE_BATCH_SIZE=20

# Unified dashboard auth/access
DASHBOARD_LOGIN_USER=owner
DASHBOARD_LOGIN_PASS=replace_with_strong_password
# Quote this value if it includes '#' or spaces.
DASHBOARD_SESSION_SECRET="replace_with_32_plus_char_random_secret"
DASHBOARD_SESSION_TTL_HOURS=12
DASHBOARD_IP_ALLOWLIST_ENABLED=false
DASHBOARD_ALLOWED_IPS=127.0.0.1,::1
DASHBOARD_TRUST_PROXY=true

# OTP-first login (public login model)
DASHBOARD_OTP_PRIMARY_ENABLED=true
DASHBOARD_OTP_TO=owner@example.com
DASHBOARD_OTP_LENGTH=6
DASHBOARD_OTP_TTL_MINUTES=10
DASHBOARD_OTP_RESEND_COOLDOWN_SECONDS=60
DASHBOARD_OTP_MAX_ATTEMPTS=5
DASHBOARD_OTP_REQUEST_RATE_LIMIT=10
DASHBOARD_OTP_REQUEST_RATE_WINDOW_MS=900000
DASHBOARD_OTP_DAILY_LIMIT=50

# Dashboard analytics and retention
DASHBOARD_METRICS_PATH=/home/devuser/dev/email-vps/metrics.json
DASHBOARD_METRIC_SNAPSHOT_MINUTES=5
DASHBOARD_RETENTION_DAYS=90
DASHBOARD_ACTIVITY_TOP_N=20
DASHBOARD_ACTIVITY_REFRESH_SECONDS=5

# Login abuse protection
DASHBOARD_LOGIN_RATE_LIMIT=5
DASHBOARD_LOGIN_RATE_WINDOW_MS=60000
DASHBOARD_LOGIN_LOCKOUT_MINUTES=15

# Manual dashboard mail probe
DASHBOARD_MAIL_PROBE_TO=you@example.com
DASHBOARD_MAIL_PROBE_COOLDOWN_SECONDS=300
